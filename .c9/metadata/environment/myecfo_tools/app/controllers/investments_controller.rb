{"filter":false,"title":"investments_controller.rb","tooltip":"/myecfo_tools/app/controllers/investments_controller.rb","undoManager":{"mark":18,"position":18,"stack":[[{"start":{"row":0,"column":51},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":19},{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":35},"action":"insert","lines":["before_action :authenticate_user!"],"id":20}],[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":21},{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":10,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["def import","   Investment.import(params[:file])","   redirect_to root_url, notice: “Investments imported successfully”"," end"],"id":22}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["  "],"id":23}],[{"start":{"row":13,"column":1},"end":{"row":13,"column":2},"action":"insert","lines":[" "],"id":24}],[{"start":{"row":7,"column":33},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":25},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":8,"column":4},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":26},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":9,"column":4},"end":{"row":14,"column":6},"action":"insert","lines":["#from railcast 362. It’s called a “respond_to” block","   respond_to do |format|","     format.html","     format.csv { send_data @positions.to_csv }","     format.xls { send_data @positions.to_csv(col_sep: “\\t”) }","   end"],"id":27}],[{"start":{"row":12,"column":29},"end":{"row":12,"column":38},"action":"remove","lines":["positions"],"id":29},{"start":{"row":12,"column":29},"end":{"row":12,"column":30},"action":"insert","lines":["i"]},{"start":{"row":12,"column":30},"end":{"row":12,"column":31},"action":"insert","lines":["n"]},{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"insert","lines":["v"]},{"start":{"row":12,"column":32},"end":{"row":12,"column":33},"action":"insert","lines":["e"]},{"start":{"row":12,"column":33},"end":{"row":12,"column":34},"action":"insert","lines":["s"]}],[{"start":{"row":12,"column":29},"end":{"row":12,"column":34},"action":"remove","lines":["inves"],"id":30},{"start":{"row":12,"column":29},"end":{"row":12,"column":40},"action":"insert","lines":["investments"]}],[{"start":{"row":13,"column":29},"end":{"row":13,"column":38},"action":"remove","lines":["positions"],"id":31},{"start":{"row":13,"column":29},"end":{"row":13,"column":30},"action":"insert","lines":["i"]},{"start":{"row":13,"column":30},"end":{"row":13,"column":31},"action":"insert","lines":["n"]},{"start":{"row":13,"column":31},"end":{"row":13,"column":32},"action":"insert","lines":["v"]},{"start":{"row":13,"column":32},"end":{"row":13,"column":33},"action":"insert","lines":["e"]}],[{"start":{"row":13,"column":29},"end":{"row":13,"column":33},"action":"remove","lines":["inve"],"id":32},{"start":{"row":13,"column":29},"end":{"row":13,"column":40},"action":"insert","lines":["investments"]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":64},"action":"remove","lines":["     format.xls { send_data @investments.to_csv(col_sep: “\\t”) }"],"id":33},{"start":{"row":12,"column":49},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":18,"column":34},"end":{"row":18,"column":35},"action":"remove","lines":["I"],"id":34}],[{"start":{"row":18,"column":34},"end":{"row":18,"column":35},"action":"insert","lines":["i"],"id":35}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"remove","lines":[","],"id":36}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"insert","lines":[","],"id":37}],[{"start":{"row":18,"column":3},"end":{"row":18,"column":68},"action":"remove","lines":["redirect_to root_url, notice: “investments imported successfully”"],"id":38},{"start":{"row":18,"column":2},"end":{"row":18,"column":3},"action":"remove","lines":[" "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"remove","lines":["  "]},{"start":{"row":17,"column":35},"end":{"row":18,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":16,"column":12},"end":{"row":16,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1524603639886,"hash":"4a936b95de6c6caf0ca385fd8d07c3149f9e7b42"}